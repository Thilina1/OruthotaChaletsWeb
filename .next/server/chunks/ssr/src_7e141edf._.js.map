{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/thilinaweerasinghe/OruthotaChalets/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\n// Use safe fallbacks to prevent build/runtime crashes.\n// If env vars are missing, the client will be created but requests will fail (which is handled in the UI).\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://placeholder-url.supabase.co';\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'placeholder-key';\n\nif (!process.env.NEXT_PUBLIC_SUPABASE_URL) {\n    console.warn('WARNING: NEXT_PUBLIC_SUPABASE_URL is missing. Using placeholder.');\n}\nif (!process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n    console.warn('WARNING: NEXT_PUBLIC_SUPABASE_ANON_KEY is missing. Using placeholder.');\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;AAAA;;AAEA,uDAAuD;AACvD,2GAA2G;AAC3G,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,sFAA6C;AAErE,uCAA2C;;AAE3C;AACA,uCAAgD;;AAEhD;AAEO,MAAM,WAAW,CAAA,GAAA,8KAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/thilinaweerasinghe/OruthotaChalets/src/app/blogs/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useParams } from 'next/navigation';\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport type { Blog } from '@/types/blog';\nimport Image from 'next/image';\nimport { format } from 'date-fns';\n\nexport default function BlogPostPage() {\n  const params = useParams();\n  const { id } = params;\n\n  const [post, setPost] = useState<Blog | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    async function fetchPost() {\n      if (!id) return;\n      try {\n        const { data, error } = await supabase\n          .from('blogs')\n          .select('*')\n          .eq('id', id)\n          .single();\n\n        if (error) throw error;\n        if (data) setPost(data as Blog);\n      } catch (e: any) {\n        setError(e);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchPost();\n  }, [id]);\n\n  const formatDate = (timestamp: any) => {\n    if (!timestamp) return 'Date not available';\n    // Supabase returns string, handle simple date parsing\n    try {\n      return format(new Date(timestamp), 'MMMM d, yyyy');\n    } catch {\n      return 'Invalid date';\n    }\n  };\n\n  if (isLoading) {\n    return <div className=\"container  mx-auto py-20 px-4 text-center\">Loading post...</div>;\n  }\n\n  if (error) {\n    return <div className=\"container mx-auto py-20 px-4 text-center text-destructive\">Error loading post: {error.message}</div>;\n  }\n\n  if (!post) {\n    return <div className=\"container mx-auto py-20 px-4 text-center\">Blog post not found.</div>;\n  }\n\n  const modifiedImageUrl = post.contentImage ? post.contentImage.replace('dl=1', 'raw=1') : '';\n\n  return (\n    <div className=\"bg-background py-20 pt-32\">\n      <br></br>\n      <div className=\"container mx-auto px-4 max-w-4xl\">\n        <article className=\"prose prose-lg dark:prose-invert mx-auto\">\n          <header className=\"mb-12 border-b pb-8\">\n            <h1 className=\"font-headline text-5xl text-foreground mb-4\">{post.header1}</h1>\n            <p className=\"text-muted-foreground\">\n              Published on {formatDate(post.createdAt)}\n            </p>\n          </header>\n\n          {modifiedImageUrl && (\n            <div className=\"relative h-96 w-full mb-12 rounded-lg overflow-hidden\">\n              <Image\n                src={modifiedImageUrl}\n                alt={post.header1}\n                fill\n                className=\"object-cover\"\n                priority\n              />\n            </div>\n          )}\n\n          {post.content1 && (\n            <div dangerouslySetInnerHTML={{ __html: post.content1 }} className=\"mb-8\" />\n          )}\n\n          {post.content2 && (\n            <div dangerouslySetInnerHTML={{ __html: post.content2 }} />\n          )}\n        </article>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AAPA;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgB;IAEjD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI,CAAC,IAAI;YACT,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;gBAET,IAAI,OAAO,MAAM;gBACjB,IAAI,MAAM,QAAQ;YACpB,EAAE,OAAO,GAAQ;gBACf,SAAS;YACX,SAAU;gBACR,aAAa;YACf;QACF;QACA;IACF,GAAG;QAAC;KAAG;IAEP,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,WAAW,OAAO;QACvB,sDAAsD;QACtD,IAAI;YACF,OAAO,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,YAAY;QACrC,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,IAAI,WAAW;QACb,qBAAO,8OAAC;YAAI,WAAU;sBAA4C;;;;;;IACpE;IAEA,IAAI,OAAO;QACT,qBAAO,8OAAC;YAAI,WAAU;;gBAA4D;gBAAqB,MAAM,OAAO;;;;;;;IACtH;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,8OAAC;YAAI,WAAU;sBAA2C;;;;;;IACnE;IAEA,MAAM,mBAAmB,KAAK,YAAY,GAAG,KAAK,YAAY,CAAC,OAAO,CAAC,QAAQ,WAAW;IAE1F,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;;;;0BACD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC;oCAAG,WAAU;8CAA+C,KAAK,OAAO;;;;;;8CACzE,8OAAC;oCAAE,WAAU;;wCAAwB;wCACrB,WAAW,KAAK,SAAS;;;;;;;;;;;;;wBAI1C,kCACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAK;gCACL,KAAK,KAAK,OAAO;gCACjB,IAAI;gCACJ,WAAU;gCACV,QAAQ;;;;;;;;;;;wBAKb,KAAK,QAAQ,kBACZ,8OAAC;4BAAI,yBAAyB;gCAAE,QAAQ,KAAK,QAAQ;4BAAC;4BAAG,WAAU;;;;;;wBAGpE,KAAK,QAAQ,kBACZ,8OAAC;4BAAI,yBAAyB;gCAAE,QAAQ,KAAK,QAAQ;4BAAC;;;;;;;;;;;;;;;;;;;;;;;AAMlE","debugId":null}}]
}